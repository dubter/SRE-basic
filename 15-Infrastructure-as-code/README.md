# Домашнее задание №15 "Инфраструктура как код"

Для выполнения данного задания Вам понадобятся две виртуальные машины (в Multipass или Virtualbox и т.д.). Одна из них будет считаться условным промышленным окружением, вторая - тестовым. В качестве гостевой ОС рекомендуется использовать Ubuntu.
1) Реализуйте плейбук и роль, которая запускает балансировщик nginx, по следующим требованиям:
* В inventory должно быть определено два окружения: testing и production
* При переходе на URL "/" должна отображаться HTML страница по шаблону "Hello <Ваше имя>! Welcome to <окружение>."
* Доступ к странице должен быть закрыт HTTP Basic аутентификацией: https://docs.nginx.com/nginx/admin-guide/security-controls/configuring-http-basic-authentication/
2) Запустите плейбук для двух окружений, продемонстрируйте ход выполнения.

*В качестве артефактов выполнения приложите:*

1) Архив с полной структурой директорий Ansible
2) Запись экрана, на который виден процесс применения плейбука в окружениях.

> [!NOTE]
> **Критерии оценки**:
> * 5 баллов - Плейбук приводит систему к требуемому состоянию
> * 3 балла - Корректно разделены окружения, структурирована роль
> * 2 балла - Использованы best practices: шаблоны конфигурации, шифрование секретов и т.д.

# Решение

Видео обзор на YouTube: 

<a href="https://www.youtube.com/watch?v=fu2zMErs91c" title="rooms"><img src="https://i.ibb.co/hFmB3sms/2025-03-08-14-10-01.png" width="20%" alt="in-2" border="0" /></a> 

## Запуск:

```
ansible-playbook -i inventory/production.yml site.yml
ansible-playbook -i inventory/testing.yml site.yml
```
